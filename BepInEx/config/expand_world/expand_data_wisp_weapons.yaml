##############################################################
# Savheim Floating Island Quest / Wisp Weapons - data
##############################################################
- name: d_empty_data_wisp_weapons
  ints:
  - HasFields, 1

- name: d_tamed_wisp_weapons
  ints:
  - tamed, 1

- name: d_sfx_silent_wisp_weapons
  ints:
  - HasFieldsZSFX, 1
  floats:
  - ZSFX.m_minVol, 0
  - ZSFX.m_maxVol, 0

- name: d_wisp_teleport_pitch_1
  floats:
  - ZSFX.m_minPitch, 1.1
  - ZSFX.m_maxPitch, 1.1

- name: d_wisp_teleport_pitch_2
  floats:
  - ZSFX.m_minPitch, 1.3
  - ZSFX.m_maxPitch, 1.3

- name: d_wisp_teleport_pitch_3
  floats:
  - ZSFX.m_minPitch, 1.5
  - ZSFX.m_maxPitch, 1.5

##################################
# Floating Island
- name: d_wisp_altar_check
  ints:
  - i_wisp_altar, 1

- name: d_wisp_altar_enable
  strings:
  - OfferingBowl.m_name, Wisp Altar
  - OfferingBowl.m_bossItem, Wispheart
  - OfferingBowl.m_wrongOfferText, The skies reject your offer

- name: d_wisp_altar_disable
  strings:
  - OfferingBowl.m_name, Wisp Altar <color=red>(Inactive)</color>
  - OfferingBowl.m_bossItem, Unobtainium
  - OfferingBowl.m_wrongOfferText, This altar has been used recently.  The skies lie dormant for now.

- name: d_wisp_lights_enable
  floats:
  - LightLod.m_lightDistance, 100

- name: d_wisp_lights_disable
  floats:
  - LightLod.m_lightDistance, 0

- name: d_surt_picked_set
  ints:
  - picked, 1

- name: d_surt_picked_rst
  ints:
  - picked, 0

- name: d_serpent_lavarr_check
  strings:
  - Humanoid.m_name, Lavarr

- name: d_serpent_lavarr_set
  ints:
  - MonsterAI.m_sleeping, 1
  floats:
  - MonsterAI.m_wakeupRange, 15
  strings:
  - Humanoid.m_name, Lavarr

# loot
- valueGroup: vWispWeapons
  values:
  - CWS_Atgeir_3_SH
  - CWS_TH_Sword_5_SH
  - CWS_Sword_1_SH
  - Staff_Wisp
  - BattleaxeCrystal_Wisp
  - CWS_Sledge_6_SH
  - CWS_Mace_7_SH
  - CWS_Dagger_9_SH
  - CWS_Axe_6_SH

- name: d_wisp_weapons_loot
  items:
  - pos: 0, 0
    prefab: Coins
    stack: 151;249
  - pos: 1, 0
    prefab: RS_EtherPotion
    stack: 1
  - pos: 2, 0
    prefab: <par1>
    stack: 1

- name: d_wisp_barrel_loot
  items:
  - pos: 0, 0
    prefab: BoneFragments
    stack: 1;3
  - pos: 1, 0
    prefab: Coins
    stack: 3;7
  - pos: 2, 0
    prefab: RS_EtherPotion
    stack: 1

# Wisp Weapon filters
- name: d_wisp_weapon_battleaxe
  hashes:
  - RightItem, BattleaxeCrystal_Wisp

- name: d_wisp_weapon_atgeir
  hashes:
  - RightItem, CWS_Atgeir_3_SH

- name: d_wisp_weapon_axe
  hashes:
  - RightItem, CWS_Axe_6_SH

- name: d_wisp_weapon_knife
  hashes:
  - RightItem, CWS_Dagger_9_SH

- name: d_wisp_weapon_mace
  hashes:
  - RightItem, CWS_Mace_7_SH

- name: d_wisp_weapon_sledge
  hashes:
  - RightItem, CWS_Sledge_6_SH

- name: d_wisp_weapon_sword
  hashes:
  - RightItem, CWS_Sword_1_SH

- name: d_wisp_weapon_greatsword
  hashes:
  - RightItem, CWS_TH_Sword_5_SH

- name: d_wisp_weapon_staff
  hashes:
  - RightItem, Staff_Wisp

# Wisp Weapon buff cooldowns
- name: d_wisp_buff_cd_atgeir_set
  ints:
  - i_wisp_buff_cd_atgeir, 1

- name: d_wisp_buff_cd_atgeir_rst
  ints:
  - i_wisp_buff_cd_atgeir, 0

- name: d_wisp_buff_cd_axe_set
  ints:
  - i_wisp_buff_cd_axe, 1

- name: d_wisp_buff_cd_axe_rst
  ints:
  - i_wisp_buff_cd_axe, 0

- name: d_wisp_buff_cd_battleaxe_set
  ints:
  - i_wisp_buff_cd_battleaxe, 1

- name: d_wisp_buff_cd_battleaxe_rst
  ints:
  - i_wisp_buff_cd_battleaxe, 0

- name: d_wisp_buff_cd_greatsword_set
  ints:
  - i_wisp_buff_cd_greatsword, 1

- name: d_wisp_buff_cd_greatsword_rst
  ints:
  - i_wisp_buff_cd_greatsword, 0

- name: d_wisp_buff_cd_knife_set
  ints:
  - i_wisp_buff_cd_knife, 1

- name: d_wisp_buff_cd_knife_rst
  ints:
  - i_wisp_buff_cd_knife, 0

- name: d_wisp_buff_cd_mace_set
  ints:
  - i_wisp_buff_cd_mace, 1

- name: d_wisp_buff_cd_mace_rst
  ints:
  - i_wisp_buff_cd_mace, 0

- name: d_wisp_buff_cd_sledge_set
  ints:
  - i_wisp_buff_cd_sledge, 1

- name: d_wisp_buff_cd_sledge_rst
  ints:
  - i_wisp_buff_cd_sledge, 0

- name: d_wisp_buff_cd_staff_set
  ints:
  - i_wisp_buff_cd_staff, 1

- name: d_wisp_buff_cd_staff_rst
  ints:
  - i_wisp_buff_cd_staff, 0

- name: d_wisp_buff_cd_sword_set
  ints:
  - i_wisp_buff_cd_sword, 1

- name: d_wisp_buff_cd_sword_rst
  ints:
  - i_wisp_buff_cd_sword, 0
